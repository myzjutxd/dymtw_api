<?phpclass AdminAction extends Action {	public function _initialize() {				$condition["token"]=$this->_get("token");				$M=new Model("dev");		$data=$M->where($condition)->find();				if($data)		{			$this->area=(int)$data["area"];		//	$this->check=(int)$data["check"];			//var_dump($this);		}		else		{			$this->response("errer","json",'404');		}			}	public function list_get()	{	   $M = new Model("userview")   ;		$num = $this->_get("num");		$page=$this->_get("page");		$type=$this->_get("type");		$search=$this->_get("SearchClass");		$condition=array();		if($search!=null)			$condition["$search"]=$this->_get("Keyword");		$condition["UserType"]=$type;		if($page==null)			$page=1;		if($this->area!=0)		{			if($this->area>=5)                $condition["cityId"]=$this->area;            else                $condition["proid"]=$this->area;		}		//echo $this->check;		if($this->_get("check")==1)		{			$condition["check"]=1;		}	//	var_dump($condition);		if($search=="DateTime")		{			$year=date("Y");			$month=date("m");			$day=date("d");			$hms=" 00:00:00";			switch($condition["$search"])			{				case "ToDay":$condition["regTime"]=array('between',array($year.'-'.$month.'-'.$day.$hms,$year.'-'.$month.'-'.($day+1).$hms));break;				case "YesterDay":$condition["regTime"]=array('between',array($year.'-'.$month.'-'.($day-1).$hms,$year.'-'.$month.'-'.($day).$hms));break;				case "ThisMonth":$condition["regTime"]=array("between",array($year.'-'.$month.'-'.'0'.$hms,$year.'-'.$month.'-'.'30'.$hms));break ;				case "LastMonth":$condition["regTime"]=array("between",array($year.'-'.($month-1).'-'.'0'.$hms,$year.'-'.$month.'-'.'0'.$hms));break;			}			//unset($condition["DateTime"]);		}		//var_dump($condition);		$data{"count"}= $M->where($condition)->count();		$data["user"] = $M->where($condition)->page($page,$num)->order("id desc")->select();		$this->response($data,'json');	}	public function user_get()	{		$id=$this->_get("id");		//echo $id;		$user = new Model("userview");		$data=$user->where("id=$id")->find();		if($data!=null)			$this->response($data,'json',200);	}	public function user_post()	{		$data = $_POST;		$id = $data["id"];		$M = new Model("user");		if($data["type"]!=null)		{			$type=$data["type"];			unset($data);			$data = array();			//$M = new Model("banner");			$value=$M->where("id=$id")->getField("$type");			if($value==1)				$value=0;			else				$value=1;			$data["$type"]=$value;			$data["id"]=$id;			var_dump($data);			//$M->save($data);		}		//$id=$data["id"];		$M->where("id=$id")->save($data);	}}?>